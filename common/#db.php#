/**
 * Our Database class, handles flat files
 * 
 * @author Justin Parra <parra.justin.main@gmail.com>
 */

namespace db;

/*  So we can handle exceptions here */
class Exception extends \Exception {}

class db {
  private $directory;

  public function __construct($path, $db_name = 'default') {
    $this->directory = $path . (substr(strval($path), -1) == '/'? '' : '/') . $db_name . '/';

    //Can the directory even exist?
    if( !is_dir($this->directory) ) {
      if( !mkdir($this->directory) )
        throw new Exception('Failed to make directory, permission failed');
      else
        file_put_contents($this->directorymixed $data)
    }
  }
}